<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login: Usuário</title>
  <link rel="stylesheet" href="../public/styles/style.css">
  <link rel="stylesheet" href="../public/styles/global.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
  <div id="div_login" class="pagina_login" style="display: flex;">

    <!-- LATERAL FORM (50%) -->
    <section class="lateral_formulario">
      <div class="lateral_formulario_interna">
        <h1 class="titulo_login">LOGIN</h1>

        <div class="formulario_login" action="#" method="post" novalidate>
          <label class="rotulo_login" for="email_login">E-mail</label>
          <input class="campo_login" id="email_login" type="email" placeholder="email@email.com" required>

          <label class="rotulo_login" for="senha_login">Senha</label>
          <input class="campo_login" id="senha_login" type="password" placeholder="********" required
            oninput="verificarSenha()">

          <div id="div_mensagemSenha"></div>

          <button class="botao_padrao" onclick="verificar()">Entrar</button>
        </div>

        <hr class="separador_login">

        <div class="redes_login">
          <button class="botao_social google_login">
            <img src="assets/icon-google.png" alt="Google">
            Continuar com o Google
          </button>

          <button class="botao_social apple_login">
            <img src="assets/icon-apple.png" alt="Apple">
            Continuar com o Apple ID
          </button>
        </div>

        <p class="links_login">
          Não possui uma conta? <a class="link_login" href="cadastro.html">Cadastre-se</a>
        </p>
        <p class="links_login">
          <a class="link_login" href="#">Esqueci minha senha</a>
        </p>
      </div>
    </section>
    <!-- LATERAL IMAGEM (50%) -->
    <section class="lateral_imagem">
      <div class="lateral_imagem_interna">
        <img src="../public/assets/img_page_login.png" class="imagem_cadastro" alt="">
      </div>
    </section>

  </div>

</body>

</html>

<script>

  var senha = '';
  var armazenarEmail = '';
  var mockadoEmail = 'joao@gmail.com';
  var mockadoSenha = 'joao123';

  function verificar() {
    var email = (email_login.value);
    senha = (senha_login.value);

    // if(email.includes('@') && email.length != 0 && email.includes(mail) && email.endsWith('.com')){
    //   armazenarEmail += `${email}`;
    // } else{
    //   alert(`Por favor, digite um email válido`);
    // }

    if (email == mockadoEmail && senha == mockadoSenha) {
      div_dashboard.style.display = 'block';
      div_login.style.display = 'none';
    } else {
      alert('Erro ao digitar o email ou senha, tente novamente.')
    }
  }

  function verificarSenha() {
    senha = (senha_login.value);
    var senhaLower = senha.toLowerCase();
    if (senha.length < 8) {
      div_mensagemSenha.innerHTML = `Digite uma senha que tenha no mínimo 8 caracteres.`
    } else if (senha.toLowerCase() == senha) {
      div_mensagemSenha.innerHTML = `Digite uma senha que tenha no mínimo 1 letra maiúscula.`
    } else if (senha.toUpperCase() == senha) {
      div_mensagemSenha.innerHTML = `Digite uma senha que tenha no mínimo 1 letra minúscula.`
    } else if (!senha.includes('0') && !senha.includes('1') && !senha.includes('2') && !senha.includes('3') && !senha.includes('4') && !senha.includes('5') && !senha.includes('6') && !senha.includes('7') && !senha.includes('8') && !senha.includes('9')) {
      div_mensagemSenha.innerHTML = `Digite uma senha que tenha no mínimo 1 número.`
    } else if (!senhaLower.includes('a') && !senhaLower.includes('b') && !senhaLower.includes('b') && !senhaLower.includes('c') && !senhaLower.includes('d') && !senhaLower.includes('e') && !senhaLower.includes('f') && !senhaLower.includes('g') && !senhaLower.includes('h') && !senhaLower.includes('i') && !senhaLower.includes('j') && !senhaLower.includes('k') && !senhaLower.includes('l') && !senhaLower.includes('m') && !senhaLower.includes('n') && !senhaLower.includes('o') && !senhaLower.includes('p') && !senhaLower.includes('q') && !senhaLower.includes('r') && !senhaLower.includes('s') && !senhaLower.includes('t') && !senhaLower.includes('u') && !senhaLower.includes('v') && !senhaLower.includes('w') && !senhaLower.includes('x') && !senhaLower.includes('y') && !senhaLower.includes('z')) {
      div_mensagemSenha.innerHTML = `Digite uma senha que tenha no mínimo 1 letra.`
    } else {
      div_mensagemSenha.innerHTML = `Senha está com um nível forte.`
    }
  }

  const barra = document.getElementById('grafico_barra');

  new Chart(barra, {
    type: 'bar',
    data: {
      labels: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10'],
      datasets: [
        {
          label: 'Temperatura atual do sensor',
          data: [30, 27, 21, 25, 37, 22, 18, 28, 32, 26],
          borderWidth: 2
        },
        {
          type: 'line',
          label: 'Temperatura máxima ideal',
          data: [27, 27, 27, 27, 27, 27, 27, 27, 27, 27],
          borderWidth: 2
        }

      ]
    },
    options: {
      scales: {
        y: {
          beginAtZero: true
        }
      }
    }
  });

  const linha = document.getElementById('grafico_linha');

  new Chart(linha, {
    type: 'line',
    data: {
      labels: ['0:00', '1:00', '2:00', '3:00', '4:00', '5:00', '6:00', '7:00', '8:00', '9:00', '10:00', '11:00', '12:00', '13:00', '14:00', '15:00', '16:00', '17:00', '18:00', '19:00', '20:00', '21:00', '22:00', '23:00'],
      datasets: [
        {
          label: 'Produção',
          data: [100, 100, 100, 100, 100, 100, 92.5, 87.5, 85, 80, 80, 72.5, 70, 65, 57.5, 65, 70, 82.5, 82.5, 90, 90, 92.5, 100, 100],
          borderWidth: 2
        },
        {
          label: 'Temperatura',
          data: [18, 17, 17, 19, 19, 20, 23, 25, 26, 28, 28, 31, 32, 34, 37, 34, 32, 27, 27, 24, 24, 23, 20, 19],
          borderWidth: 2
        }

      ]
    },
    options: {
      scales: {
        y: {
          beginAtZero: true
        }
      }
    }
  });
</script>