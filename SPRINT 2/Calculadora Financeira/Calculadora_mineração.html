<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h2>Calculadora Financeira TermoTech</h2>

<Select id="select_metodo" onchange="escolha()">
    <option disabled selected>Selecione</option>
    <option value="1">Receita anual</option>
    <option value="2">Produção anual</option>
</Select><br><br>


<div id="div_receita" style="display: none;">
    Receita anual por ano
    <input id="input_receitaAnual" placeholder="ex: 3.000.000.000" type="number"><br><br>
</div>

<div id="div_producao" style="display: none;">
    Produção de cobre por ano
    <input id="input_producao" placeholder="em Toneladas" type="number"><br><br>

    Custo de extração de cobre por tonelada
    <input id="input_custo" placeholder="ex: 10000" type="number"><br><br>
</div>

    Temperatura média na mina
    <input id="input_temperatura" placeholder="ex: 25" type="number"><br><br>

    <button onclick="calcular()">Calcular valores</button><br><br>

    <div id="div_mensagem"></div>
</body>
</html>

<script>
    function escolha(){

        var metodo = select_metodo.value;
        if(metodo == '1'){
            div_receita.style.display = 'block';
            div_producao.style.display = 'none';
            div_mensagem.innerHTML = '';
            input_producao.value = '';
            input_custo.value = '';
            

        }   else if(metodo == '2'){
            div_producao.style.display = 'block';
            div_receita.style.display = 'none';
            div_mensagem.innerHTML = '';
            input_receitaAnual.value = '';
        }
    }

    function calcular(){

        var producao = Number(input_producao.value);
        var custo = Number(input_custo.value);
        // var minerador = Number(input_minerador.value);
        var temperatura = Number(input_temperatura.value);
        var receitaBruta = (producao * 53500);
        var receitaLiquida = (receitaBruta - (custo * producao));
        var receitaLiquidaSemSensor = receitaLiquida * (1 - ((temperatura - 20) * 0.025));
        var metodo = select_metodo.value;
        var receitaAnualSemSensor = Number(input_receitaAnual.value);
        var receitaLiquidaValor = (receitaAnualSemSensor / (1 - ((temperatura - 20) * 0.025)));

        
        // var producaoMinerador = producao / minerador;
        // var receitaLiquidaMinerador = (receitaLiquida / minerador);

       
        if(metodo == '2' && producao != '' && custo != '' && temperatura != ''){
        div_mensagem.innerHTML = `
        Com o monitoramento da temperatura, você poderá prever situações onde um resfriamento será necessário, assim, sua receita líquida será de ${receitaLiquida.toLocaleString('pt-BR',{style:"currency", currency:"BRL"})} por ano.<br><br>
        Sem o nosso sensor, sua receita líquida será de ${receitaLiquidaSemSensor.toLocaleString('pt-BR',{style:"currency", currency:"BRL"})} por ano.<br><br>
        Sem tomar as devidas providências, você estará deixando de ganhar ${(receitaLiquida - receitaLiquidaSemSensor).toLocaleString('pt-BR',{style:"currency", currency:"BRL"})} por ano.
        `
        }   else if(metodo == '1' && receitaAnualSemSensor != '' && temperatura != ''){
            div_mensagem.innerHTML = `
        Com o monitoramento da temperatura, você poderá prever situações onde um resfriamento será necessário, assim, sua receita líquida será de ${receitaLiquidaValor.toLocaleString('pt-BR',{style:"currency", currency:"BRL"})} por ano.<br><br>    
        Tomando as devidas providências, você ganhará a mais ${(receitaLiquidaValor - receitaAnualSemSensor).toLocaleString('pt-BR',{style:"currency", currency:"BRL"})} por ano.
        `
        }   else{
            alert(`Por favor, selecione uma opção e complete os campos.`);
        }
    }
</script>

